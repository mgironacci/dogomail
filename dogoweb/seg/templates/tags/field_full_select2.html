{% load seg_tags %}
{% load i18n %}

<div class="{{ WIDGET_GROUP_CLASS }}{% if field.errors %} {{WIDGET_ERROR_CLASS }}{% endif %}">
    <label class="{{ WIDGET_BASE_CLASS }}-label{% if field.errors %} {{WIDGET_ERROR_CLASS }}{% endif %}" for="{{ field.id_for_label }}">{% trans field.label %}</label>
    {% render_field field %}
    {% if field.errors %}
    <div class="{{ WIDGET_ERROR_LIST_CLASS }}" data-error-list>
        <ul>
            {% for error in field.errors %}
            <li>{{ error }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
    <script>
        $('#{{ field.id_for_label }}').select2({
            dropdownParent: $("{{ dropdownParent }}")
        });
        if ("{{ field.field.required }}" == "True" ) {
            $("[aria-labelledby='select2-{{ field.id_for_label }}-container']").addClass("{{ WIDGET_REQUIRED_CLASS }}");
        }
    </script>
</div>